Config:
  PIDFile: /tmp/cryptoexch.pid
  LogConf: log4rs.yml

Tasks:
  # - Api: trading/stats
  #   Module: BitBay
  #   PathParams: ETH-PLN
  #   Format: csv
  #   OutPathMask: samples/stats_ETH_PLN.csv
  #   StopAfter: 1
  # - Api: trading/ticker
  #   Module: BitBay
  #   PathParam: ETH-PLN
  #   Format: csv
  #   OutPathMask: samples/ticker_ETH_PLN.csv
  #   StopAfter: 1
  - Api: trading/transactions
    Module: BitBay
    PathParams: ETH-PLN
    QueryParams:
      limit: 50
      fromTime: |
        ((now_utc() - 480) * 1000).to_string()
    # Format: csv
    # Format: pb_proto
    Format: pb
    # Format: json_pretty
    # OutPathMask: samples/transactions_ETH_PLN.json
    # OutPathMask: samples/transactions_ETH_PLN.csv
    # OutPathMask: samples/ticker.proto
    OutPathMask: samples/transactions_ETH_PLN.pb3
    # OutPathMask: samples/ticker_ETH_%c.json
    StopAfter: 2
    Frequency: 4
    # NewFileAfter: 2
  #   Filters:
  #     - ["items", "by_key_re", ".*ETH.*"]
  # - Api: trading/orderbook-limited
  #   Module: BitBay
  #   PathParams: ETH-PLN/10
  #   Format: csv
  #   OutPathMask: samples/orderbook_10.csv
  #   Frequency: 2
  #   StopAfter: 2
  # - Api: https://api.bitbay.net/rest/trading/transactions
  #   Module: GenericJson
  #   PathParams: ETH-PLN
  #   QueryParams:
  #     limit: 50
  #     # fromTime: |
  #     #   "1596486167443"
  #     # fromTime: |
  #     #   (now_utc_millis() - 2357439).to_string()
  #     fromTime: |
  #       ((now_utc() - 480) * 1000).to_string()
  #   Format: json_pretty
  #   OutPathMask: samples/transactions_ETH_PLN.json
  #   StopAfter: 1
    
